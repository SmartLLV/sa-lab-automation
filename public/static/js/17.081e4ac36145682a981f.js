webpackJsonp([17],{M92b:function(e,t,n){"use strict";function r(e){n("WJFC")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),o=n.n(a),i=n("JZJf"),s=n("pN2o"),l=n("NYxO"),d={data:function(){return{defaultActive:"",timer:null,routes:[{route:"order",label:"订单"},{route:"menu",label:"菜单"},{route:"new",label:"上传新品"},{route:"rate",label:"菜品评论"},{route:"info",label:"商铺信息"}]}},computed:o()({},Object(l.c)("seller",["newOrderNum","sellerInfo","shopTypeList","foodTypeList"])),created:function(){var e=this,t=this.$router.currentRoute.path,n=t.split("/")[2];this.defaultActive=this.routes.findIndex(function(e){return e.route===n})+1+"",this.getShopType(),this.getFoodType(),this.isNewOrder(),this.timer=setInterval(function(){e.isNewOrder()},1e4)},beforeDestroy:function(){clearInterval(this.timer)},methods:o()({getShopType:function(){var e=this;Object(s.h)().then(function(t){e.setShopType(t.data)})},getFoodType:function(){var e=this,t=this.sellerInfo.shopId;Object(i.d)(t).then(function(t){e.setFoodType(t.data.list)})},isNewOrder:function(){var e=this,t=this.sellerInfo.shopId;Object(i.i)(t).then(function(t){1===t.code&&t.data>0&&(e.setNewOrderNum(t.data),e.$refs.audio.play())})}},Object(l.d)({setNewOrderNum:"seller/SET_NEW_ORDER_NUM",setShopType:"seller/SET_SHOPTYPE",setFoodType:"seller/SET_FOODTYPE"}))},u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("el-header",[e._v("吃货宝·商家版")]),e._v(" "),r("el-container",[r("el-aside",[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.defaultActive,"background-color":"#545c64","text-color":"#fff",router:!0}},[e._l(e.routes,function(t,n){return r("el-menu-item",{key:n,attrs:{index:n+1+"",route:t.route}},[r("i",{staticClass:"el-icon-location"}),e._v(" "),r("span",[e._v(e._s(t.label))]),"order"===t.route&&e.newOrderNum>0?r("span",{staticClass:"badge"},[e._v(e._s(e.newOrderNum))]):e._e()])}),e._v(" "),r("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"audio",attrs:{controls:"controls"}},[r("source",{attrs:{src:n("kcsv"),type:"audio/ogg"}})])],2)],1),e._v(" "),r("el-main",[r("router-view")],1)],1)],1)},c=[],f={render:u,staticRenderFns:c},p=f,h=n("VU/8"),b=r,v=h(d,p,!1,b,"data-v-359bfab0",null);t.default=v.exports},WJFC:function(e,t,n){var r=n("n2Mq");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("rjj0")("1b4159a8",r,!0,{})},kcsv:function(e,t,n){e.exports=n.p+"static/media/song.15fd42e.mp3"},n2Mq:function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,"\n#app[data-v-359bfab0] {\n  height: 100%;\n}\n.el-header[data-v-359bfab0] {\n  height: 50px !important;\n  line-height: 50px;\n  background: #409eff;\n  color: #fff;\n}\n.el-container[data-v-359bfab0] {\n  height: calc(100% - 50px);\n}\n.el-aside[data-v-359bfab0] {\n  background: #545c64;\n  width: 230px !important;\n}\n.el-aside .el-menu[data-v-359bfab0] {\n    border-right: none;\n}\n.el-main[data-v-359bfab0] {\n  background: #fff;\n  padding: 0;\n}\n.badge[data-v-359bfab0] {\n  display: inline-block;\n  color: #fff;\n  height: 20px;\n  width: 20px;\n  border-radius: 10px;\n  background: red;\n  margin-left: 10px;\n  border: 1px solid #FFF;\n  line-height: 20px;\n  text-align: center;\n}\n",""])}});